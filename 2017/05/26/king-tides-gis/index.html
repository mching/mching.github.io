<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>King Tides Citizen Science Project - Dripping Data</title>
  <meta name="description" content="I read in the newspaper that the University of Hawaii was recruiting &ldquo;citizen scientists&rdquo; to help document the impact of this week&#39;s &ldquo;king tides&rdquo; on our coastline. I uploaded some photos to the website but also found that we could download the dataset. I took this as an opportunity to learn something about geographic information systems (GIS) and R, and the end result was a pretty nice map of all the places that were photographed this week.">
  <meta name="author" content="Mike Ching"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Dripping Data",
    
    "url": "\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "\/2017\/05\/26\/king-tides-gis\/",
          "name": "King tides citizen science project"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Mike Ching"
  },
  "headline": "King Tides Citizen Science Project",
  "description" : "I read in the newspaper that the University of Hawaii was recruiting \x26ldquo;citizen scientists\x26rdquo; to help document the impact of this week\x27s \x26ldquo;king tides\x26rdquo; on our coastline. I uploaded some photos to the website but also found that we could download the dataset. I took this as an opportunity to learn something about geographic information systems (GIS) and R, and the end result was a pretty nice map of all the places that were photographed this week.",
  "inLanguage" : "en",
  "wordCount":  829 ,
  "datePublished" : "2017-05-26T00:00:00",
  "dateModified" : "2017-05-26T00:00:00",
  "image" : "\/img\/IMG_6557.jpg",
  "keywords" : [ "GIS" ],
  "mainEntityOfPage" : "\/2017\/05\/26\/king-tides-gis\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "\/img\/IMG_6557.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="King Tides Citizen Science Project" />
<meta property="og:description" content="I read in the newspaper that the University of Hawaii was recruiting &ldquo;citizen scientists&rdquo; to help document the impact of this week&#39;s &ldquo;king tides&rdquo; on our coastline. I uploaded some photos to the website but also found that we could download the dataset. I took this as an opportunity to learn something about geographic information systems (GIS) and R, and the end result was a pretty nice map of all the places that were photographed this week.">
<meta property="og:image" content="/img/IMG_6557.jpg" />
<meta property="og:url" content="/2017/05/26/king-tides-gis/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Dripping Data" />

  <meta name="twitter:title" content="King Tides Citizen Science Project" />
  <meta name="twitter:description" content="I read in the newspaper that the University of Hawaii was recruiting &ldquo;citizen scientists&rdquo; to help document the impact of this week&#39;s &ldquo;king tides&rdquo; on our coastline. I uploaded â€¦">
  <meta name="twitter:image" content="/img/IMG_6557.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@mikec2a" />
  <meta name="twitter:creator" content="@mikec2a" />
  <link href='../../../../img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.60.1" />
  <link rel="alternate" href="../../../../index.xml" type="application/rss+xml" title="Dripping Data"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="../../../../css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="../../../../css/syntax.css" /><link rel="stylesheet" href="../../../../css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../../../">Dripping Data</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="../../../../">Blog</a>
            </li>
          
        
          
            <li>
              <a title="About" href="../../../../about/">About</a>
            </li>
          
        
          
            <li>
              <a title="LinkedIn" href="https://www.linkedin.com/in/michael-ching-033a5029">LinkedIn</a>
            </li>
          
        
          
            <li>
              <a title="Twitter" href="https://twitter.com/mikec2a">Twitter</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Dripping Data" href="../../../../">
            <img class="avatar-img" src="../../../../img/IMG_6557.jpg" alt="Dripping Data" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>King Tides Citizen Science Project</h1>
              
              
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on May 26, 2017
  
  
  
  
    
      &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Mike Ching
    
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>I read in the <a href="http://www.staradvertiser.com/2017/05/22/hawaii-news/king-tides-summer-swells-and-high-sea-levels-could-imperil-coastal-areas/">newspaper</a> that the <a href="http://ccsr.seagrant.soest.hawaii.edu/king-tides">University of Hawaii</a> was recruiting &ldquo;citizen scientists&rdquo; to help document the impact of this week's &ldquo;<a href="http://ccsr.seagrant.soest.hawaii.edu/Hawaii%20Sea%20Level">king tides</a>&rdquo; on our coastline. I uploaded some photos to <a href="https://getliquid.io">the website</a> but also found that we could download the dataset. I took this as an opportunity to learn something about geographic information systems (GIS) and R, and the end result was a pretty nice map of all the places that were photographed this week.</p>
<h2 id="gis-in-r">GIS in R</h2>
<p>I knew nothing about GIS before starting this but there were some excellent articles on the web about it. One tutorial used the <a href="https://journal.r-project.org/archive/2013-1/kahle-wickham.pdf"><code>ggmap</code></a> package. I just wanted to plot points on a map, and my prior experience with <code>ggplot2</code> and this <a href="https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/ggmap/ggmapCheatsheet.pdf">cheatsheet</a> made it pretty easy.</p>
<p>The hardest part was all the installation requirements, specifically GDAL. There's a lot of information on the web on how to install this, but it was a lot of googling that finally got it to work on Fedora. MacOS GDAL requires you to use packages available <a href="http://www.kyngchaos.com/software/frameworks">here</a>.</p>
<h2 id="making-a-map-of-oahu">Making a Map of Oahu</h2>
<p>First I wanted a map of Oahu. This couldn't be easier using <code>ggmap</code>. This produces a pretty watercolor looking map from <a href="https://stamen.com">Stamen.com</a>.</p>
<pre><code class="language-{r}" data-lang="{r}">library(tidyverse)
library(ggmap)
myLocation &lt;- &quot;Oahu&quot;
myMap &lt;- get_map(location = myLocation,
                 source = &quot;stamen&quot;,
                 maptype = &quot;watercolor&quot;, 
                 crop = FALSE,
                 zoom = 10)

ggmap(myMap)
</code></pre><p>Then I wanted to put the points on the map. The dataset was in comma separated values format (albeit with this <code>latin1</code> file encoding when I did this post first in Fedora). It was easy to load the dataset.</p>
<pre><code class="language-{r}" data-lang="{r}">dat &lt;- read.csv(&quot;../datasets/tides_20170526.csv&quot;, 
                # fileEncoding = &quot;latin1&quot;, 
                colClasses = &quot;character&quot;)
dat &lt;- tbl_df(dat)
</code></pre><p>The file needed some cleaning for convenient use in the <code>ggmap</code> package.</p>
<pre><code class="language-{r}" data-lang="{r}">dat

# Rename latitute and longitude columns for more convenient reference
names(dat)[9] &lt;- &quot;latitude&quot;
names(dat)[10] &lt;- &quot;longitude&quot;

# Make latitude and longitude numeric
dat$latitude &lt;- as.numeric(dat$latitude)
dat$longitude &lt;- as.numeric(dat$longitude)

# Convert date and time columns into POSIX format
dat$date_time &lt;- paste(dat$Date, dat$Time)
dat$date_time &lt;- strptime(dat$date_time, &quot;%m/%d/%y %H:%M&quot;)
dat$date_time &lt;- as.POSIXct(dat$date_time)
dat$LatLong &lt;- paste0(dat$latitude, &quot;:&quot;, dat$longitude)
</code></pre><p>I just wanted to see where people had been active in the last two days so I filtered the dataset by date.</p>
<pre><code class="language-{r}" data-lang="{r}">minidat &lt;- dat %&gt;% filter(date_time &gt; as.POSIXct(&quot;2017-05-25&quot;)) %&gt;% 
  select(latitude, longitude, date_time, LatLong)
</code></pre><p>The resulting map was pretty sweet.</p>
<pre><code class="language-{r}" data-lang="{r}">ggmap(myMap) + geom_point(aes(x = longitude, y = latitude), data = minidat, color = &quot;black&quot;, alpha = 0.3)
</code></pre><p>I got virtually the same map using the <code>qmap</code> function. This function uses a Google Maps terrain map to create its base image.</p>
<pre><code class="language-{r}" data-lang="{r}">qmap(&quot;Oahu&quot;) + geom_point(aes(x = longitude, y = latitude), data = minidat, color = &quot;red&quot;, alpha = 0.3)
</code></pre><p>The resulting images from <code>ggmap</code> were pretty nice but I wanted more. Nowadays it's customary to be able to pan and zoom like in Google Maps. The <code>ggmap</code> method produces a static map which is nice to look at, but it would be nice to see what points were taken on other islands. Or how about that blob of points on the south shore. Could we zoom in to see more readily where those points are?</p>
<h2 id="googlevis-version"><code>googleVis</code> version</h2>
<p>I did some more research and found the <code>gvisMap</code> function from the <code>googleVis</code> package could provide a solution to this problem. Inspiration for how to do this came from <a href="https://pakillo.github.io/R-GIS-tutorial/#googlevis">this tutorial</a>.</p>
<p>The special thing about <code>gvisMap</code> is that it requires you to feed it a variable containing latitude and longitude values in a specific latitude:longitude format. That's why I did this above in the data cleaning steps.</p>
<p>It also allows you to write a label for each point. I just used the date and time label but if I were to spend a little more time on this, it would be simple to write a label that gave the record number, the time, and some brief description.</p>
<pre><code class="language-{r}" data-lang="{r}">library(googleVis)
M1 &lt;- gvisMap(minidat, &quot;LatLong&quot;, tipvar = &quot;date_time&quot;, 
              options=list(showTip=TRUE, showLine=F, enableScrollWheel=TRUE, 
                           mapType='satellite', useMapTypeControl=TRUE, width=800,height=800))

</code></pre><p>The next command should be <code>plot(M1)</code> but this launches a javascript based map running locally. I have to figure out how to integrate this into a Jekyll blog like this one, but for the time being, you can see the result <a href="https://www2.hawaii.edu/~mslching/map_20170526.html">here</a>. I copied the code from running <code>print(M1, 'chart')</code> onto an html page and voila, <a href="https://www2.hawaii.edu/~mslching/map_20170526.html">the map</a> works just like it should!</p>
<h2 id="discussion">Discussion</h2>
<p>It wasn't too hard to plot points on a map. If I'm going to do more of this, I think the <code>googleVis</code> is probably better for dynamic presentation than <code>ggmap</code> but the <code>ggmap</code> might be nicer for static presentation.</p>
<p>Looking at the actual results, it comes as no surprise that urban Honolulu is well documented. There are lots of people living here and so Waikiki and Hawaii Kai were covered pretty well. Rural areas were much less well documented, so that's something for the project to work on!</p>
<h2 id="conclusions">Conclusions</h2>
<p>GIS in R is feasible for a relative newbie to GIS. Citizen scientists on the King Tides Project documented the urban Honolulu area better than rural areas.</p>


        
          <div class="blog-tags">
            
              <a href="//tags/gis/">GIS</a>&nbsp;
            
          </div>
        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="../../../../2017/05/21/saves-vs-strikeouts/" data-toggle="tooltip" data-placement="top" title="Pitchers with More Saves than Strikeouts">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="../../../../2017/05/26/king-tides-gis/" data-toggle="tooltip" data-placement="top" title="King Tides Citizen Science Project">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="https://github.com/mching" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/mikec2a" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/michael-ching-033a5029" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Mike Ching
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="../../../../">Dripping Data</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.60.1</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="../../../../js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="../../../../js/load-photoswipe.js"></script>









    
  </body>
</html>

